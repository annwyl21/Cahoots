<!DOCTYPE html>
<html>
    <header>
    <meta charset="utf-8"/>
   <link href="style.css" type="text/css" rel="stylesheet">
   <script>

//the rules list
let rules = [
    'all odd',
    'sum of all cards is 10', 
    'sum of cards is 2', 
    'sum of ♠ is 11', 
    'two non-adjacent piles are ♠', 
    'alternating piles are ♣', 
    'three ♠ piles', 
    'two non-adjacent piles are ♦', 
    'a straight of four (any order)', 
    'no cards of the same colour or number', 
    'two adjacent piles are ♠', 
    'all cards are ♦ or ♠', 
    'all even', 
    'sum of all cards is 18', 
    'all cards are ♥ or ♦', 
    'two non-adjacent piles are ♣', 
    'alternating piles are ♥', 
    'two adjacent piles are ♦', 
    'sum of ♣ is 6', 
    'all cards are lower than 4', 
    'three ♣ piles', 
    'all cards are higher than 4', 
    '♥ is half as much as ♦', 
    'two adjacent piles are ♥', 
    'three ♥ piles', 
    'two adjacent piles are ♣', 
    'sum of ♥ cards is 4', 
    '♣ is half as much as ♠', 
    'alternating piles are ♠', 
    'sum of ♥ cards is 10', 
    'no cards of the same colour', 
    '♠ is half as much as ♥', 
    'sum of all cards is 15', 
    'sum of ♦ = sum of ♥', 
    'alternating piles are ♦', 
    '♦ is half as much as ♣', 
    'sum of ♥ = sum of ♠', 
    'sum of all cards is 20', 
    'sum of ♣ is 7', 
    'no cards of the same number', 
    'two non adjacent piles are ♥', 
    'all cards are ♣ or ♥', 
    'sum of ♦ is 9', 
    'all cards are ♣ or ♠', 
    'a straight of three in a row', 
    'three ♥ piles', 
    'sum of ♠ = sum of ♣', 
    'sum of ♣ = sum of ♦', 
    'sum of ♦ is 3', 
    'every other card is even',
    
    ];
    
// the code for picking 4 rules to play the game  

shuffle();

function shuffle() {

    //repeat 100 times
    let count = 0;
    while (count!=100) {
        count++;

        //pick 2 random rules
        let leftIndex = Math.floor(Math.random() * rules.length);
        let rightIndex = Math.floor(Math.random() * rules.length);

        //swap rules over
        let leftRule = rules[leftIndex];
        let rightRule = rules[rightIndex];
        // console.log(String(leftIndex) + leftRule);
        // console.log(String(rightIndex) + rightRule);
        // console.log();
        rules[leftIndex] = rightRule;
        rules[rightIndex] = leftRule;
    }
}

// then extract first 4 rules and show them
let selectedRules = rules.splice(0, 4);
function outputSelectedRules () {
    document.getElementById("rule1").innerHTML = selectedRules[0];
    document.getElementById("rule2").innerHTML = selectedRules[1];
    document.getElementById("rule3").innerHTML = selectedRules[2];
    document.getElementById("rule4").innerHTML = selectedRules[3];
    console.log(selectedRules);
}



//select achieved rule

let completedRules = [];

// Prompt user to input data in console.
console.log("Select achieved rule number");

function ruleReplace (ruleNumber) {
        // Print user input in console.
        console.log('User Input Data : ' + ruleNumber);
        //next rule chosen to replace completed rule
        if (rules.length === 0) {
            alert("You win")
        } else {
            let nextRule = rules.shift();
            completedRules.push(selectedRules.splice(ruleNumber, 1, nextRule));
        
            outputSelectedRules();
            document.getElementById("score").innerHTML = "Your score is " + 
            completedRules.length;
        }
    }
</script>
    </header>
    <body>
        <section>
            Mum's Cahoots
        </section>
        <p>
            This page was created as Mum's first coding project.  
            <br>
            It displays the game <strong>Cahoots</strong>.
            <br>
            Mum wrote the code herself, <em>with advice from Dad</em>.
            <br><br>
            SCORES: 2-3 players (4 players)
            <br>
            Beginner - score 15+ (12+)
            <br>
            Normal - score 18+ (15+)
            <br>
            Expert - score 21+ (18+)
            <br>
            Insane - score 24+ (21+)
        </p>
<div class="solid special">
    <div id="score">
        Welcome to Mum's Cahoots
        <br>
        Requirements are 2 packs of playing cards using only the number cards 1-7.
        <br>
        Click on a rule when achieved
    </div>
    <div id="rule1" class="solid" onclick="ruleReplace(0)">
        <h6>
            Insert rule 1
    </div>
    <div id="rule2" class="solid" onclick="ruleReplace(1)">
        <h6>
            Insert rule 2
        </h6>
    </div>
    <div id="rule3" class="solid" onclick="ruleReplace(2)">
        <h6>
            Insert rule 3
        </h6>
    </div>
    <div id="rule4" class="solid" onclick="ruleReplace(3)">
        <h6>
            Insert rule 4
        </h6>
    </div>
</div>
    </body>
    <script>
        outputSelectedRules();
    </script>
</html>